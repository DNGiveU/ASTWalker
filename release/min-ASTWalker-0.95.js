"use strict";(function(){var __amdDefs__={},ASTWalker_prototype=function(){var t,e;(t=this).on=function(t,e){return this._ev||(this._ev={}),this._ev[t]||(this._ev[t]=[]),this._ev[t].push(e),this},t.removeListener=function(t,e){if(this._ev&&this._ev[t])for(var i=this._ev[t],n=0;n<i.length;n++)if(i[n]==e)return void i.splice(n,1)},t.trigger=function(t,e,i){if(this._ev&&this._ev[t])return this._ev[t].forEach(function(t){t(e,i)}),this},(e=this).ArrayExpression=function(t,e){var i=this;if(t.elements&&t.elements.length>=0){this.out("[");var n=0;t.elements.forEach(function(t){n++>0&&i.out(","),i.trigger("ArrayElement",t),i.walk(t,e)}),this.out("]")}},e.ArrayPattern=function(t,e){var i=this;if(t.elements&&t.elements.length>0){this.out("[");var n=0;t.elements.forEach(function(t){n++>0&&i.out(","),i.trigger("ArrayElement",t),i.walk(t,e)}),this.out("]")}},e.ArrowExpression=function(t,e){},e.ArrowFunctionExpression=function(t,e){if(this._options.toES5){this.out("function"),t.generator&&this.out("* ");var i=this;this.out("(");var n=0;return t.params.forEach(function(s){if(n++>0&&i.out(","),i.walk(s,e),t.defaults&&t.defaults[n-1]){var o=t.defaults[n-1];i.out("="),i.walk(o,e)}}),this.out(")"),i.trigger("FunctionBody",t.body),"BlockStatement"!=t.body.type&&this.out("{ return "),this.walk(t.body,e),"BlockStatement"!=t.body.type&&this.out("}"),void this.out(".bind(this)")}this.out("function"),t.generator&&(this.trigger("FunctionGenerator",t),this.out("* ")),t.id&&t.id.name?(this.trigger("FunctionName",t),this.out(" "+t.id.name+" ")):this.trigger("FunctionAnonymous",t),i=this,this.out("("),n=0,t.params.forEach(function(s){if(n++>0&&i.out(","),i.trigger("FunctionParam",s),i.walk(s,e),t.defaults&&t.defaults[n-1]){var o=t.defaults[n-1];i.out("="),i.trigger("FunctionDefaultParam",o),i.walk(o,e)}}),this.out(")"),i.trigger("FunctionBody",t.body),this.walk(t.body,e)},e.AssignmentExpression=function(t,e){this.trigger("AssigmentLeft",t.left),this.walk(t.left,e),this.out(" "+t.operator+" "),this.trigger("AssigmentRight",t.right),this.walk(t.right,e)},e.BinaryExpression=function(t,e){var i=!0,n=!0;"Identifier"!=t.left.type&&"Literal"!=t.left.type||(i=!1),"Identifier"!=t.right.type&&"Literal"!=t.right.type||(n=!1),i&&this.out("("),this.walk(t.left,e),i&&this.out(")"),this.out(" "+t.operator+" "),n&&this.out("("),this.walk(t.right,e),n&&this.out(")")},e.BlockStatement=function(t,e){this.out(" {",!0),this.indent(1),this.walk(t.body,e,!0),this.indent(-1),this.out("}")},e.BreakStatement=function(t,e){this.nlIfNot(),this.out("break "),t.label&&this.walk(t.label,e),this.out("",!0)},e.breakWalk=function(t){this._breakWalk=!0},e.CallExpression=function(t,e){if(t.callee){if("FunctionExpression"==t.callee.type&&this.out("("),this.walk(t.callee,e),"FunctionExpression"==t.callee.type&&this.out(")"),this.out("("),t.arguments){var i=this,n=0;t.arguments.forEach(function(t){n++>0&&i.out(", "),i.walk(t,e)})}this.out(")")}},e.CatchClause=function(t,e){this.out(" catch "),t.param&&(this.out("("),this.walk(t.param,e),this.out(")")),t.body&&this.walk(t.body,e)},e.ClassBody=function(t,e){this.out("{",!0),this.indent(1),this.walk(t.body,e),this.indent(-1),this.out("}",!0)},e.ClassDeclaration=function(t,e){this.out("class "),t.id&&(this.walk(t.id,e),this.out(" ")),t.superClass&&(this.trigger("Extends",t.superClass),this.out(" extends "),this.walk(t.superClass,e)),t.body&&this.walk(t.body,e)},e.ConditionalExpression=function(t,e){this.walk(t.test,e),this.out(" ? "),this.walk(t.consequent,e),this.out(" : "),this.walk(t.alternate,e)},e.ContinueStatement=function(t,e){this.nlIfNot(),this.out("continue "),t.label&&this.walk(t.label,e),this.out("",!0)},e.createContext=function(t){this._objects||(this._objects={});var e=this.createId(),i={id:e,vars:{},functions:{},parentCtx:t};return this._objects[e]=i,i},e.createId=function(t){return this._localId||(this._localId=0),this._localId++,(t||"")+this._localId},e.createObject=function(t,e){this._objects||(this._objects={}),this._objects[t]=e},e.DebuggerStatement=function(t,e){this.nlIfNot(),this.out("debugger;")},e.DoWhileStatement=function(t,e){if(this.nlIfNot(),this.out("do ",!0),t.body){var i=!1;"BlockStatement"!=t.body.type&&t.body.type.indexOf("Statement")>=0&&(i=!0),i&&(this.out("{"),this.indent(1)),this.walk(t.body,e),i&&(this.indent(-1),this.out("}"))}this.out(" "),t.test&&(this.out("while("),this.trigger("DoWhileTest",t.test),this.walk(t.test,e),this.out(")")),this.out("",!0)},e.EmptyStatement=function(t){},e.endBlock=function(t){this.out("}",!0),this.indent(-1)},e.endCollecting=function(t){this._collecting=!1},e.ExpressionStatement=function(t,e){this.nlIfNot(),this.walk(t.expression,e),this.out(";",!0)},e.find=function(t){},e.ForInStatement=function(t,e){this.nlIfNot(),this.out("for"),this.out("(");var i=e._forVar;if(e._forVar=1,t.left&&(this.trigger("ForInLeft",t.left),this.walk(t.left,e)),e._forVar=i,this.out(" in "),t.right&&(this.trigger("ForInRight",t.right),this.walk(t.right,e)),this.out(")"),t.body){this.trigger("ForInBody",t.body);var n=!1;"BlockStatement"!=t.body.type&&t.body.type.indexOf("Statement")>=0&&(n=!0),n&&(this.out("{"),this.indent(1)),this.walk(t.body,e),n&&(this.indent(-1),this.out("}"))}this.out("",!0)},e.ForOfStatement=function(t,e){this.nlIfNot(),this.out("for"),this.out("(");var i=e._forVar;if(e._forVar=1,t.left&&(this.trigger("ForOfLeft",t.left),this.walk(t.left,e)),e._forVar=i,this.out(" of "),t.right&&(this.trigger("ForOfRight",t.right),this.walk(t.right,e)),this.out(")"),t.body){this.trigger("ForOfBody",t.body);var n=!1;"BlockStatement"!=t.body.type&&t.body.type.indexOf("Statement")>=0&&(n=!0),n&&(this.out("{"),this.indent(1)),this.walk(t.body,e),n&&(this.indent(-1),this.out("}"))}this.out("",!0)},e.ForStatement=function(t,e){this.out("for"),this.out("(");var i=e._forVar;if(e._forVar=1,t.init&&this.walk(t.init,e),e._forVar=i,this.out("; "),t.test&&this.walk(t.test,e),this.out("; "),t.update&&this.walk(t.update,e),this.out(")"),t.body){var n=!1;"BlockStatement"!=t.body.type&&t.body.type.indexOf("Statement")>=0&&(n=!0),n&&(this.out("{"),this.indent(1)),this.walk(t.body,e),n&&(this.indent(-1),this.out("}"))}this.out("",!0)},e.FunctionDeclaration=function(t,e){var i=this.createContext(e);t.contextId=i.id,this.out("function"),t.generator&&this.out("*"),t.id&&t.id.name?(this.trigger("FunctionName",t),this.out(" "+t.id.name+" "),t.id.name&&(e.functions[t.id.name]=t)):this.trigger("FunctionAnonymous",t);var n=this;this.out("(");var s=0;t.params.forEach(function(e){if(s++>0&&n.out(","),n.trigger("FunctionParam",e),n.walk(e,i),t.defaults&&t.defaults[s-1]){var o=t.defaults[s-1];n.out("="),n.trigger("FunctionDefaultParam",o),n.walk(o,i)}}),this.out(")"),n.trigger("FunctionBody",t.body),this.walk(t.body,i)},e.FunctionExpression=function(t,e){var i=this.createContext(e);t.contextId=i.id,this.__insideMethod||this.out("function"),t.generator&&(this.trigger("FunctionGenerator",t),this.out("* ")),t.id&&t.id.name?(this.trigger("FunctionName",t),this.out(" "+t.id.name+" "),t.id.name&&e.functions[t.id.name]):this.trigger("FunctionAnonymous",t);var n=this;this.out("(");var s=0;t.params.forEach(function(e){if(s++>0&&n.out(","),n.trigger("FunctionParam",e),n.walk(e,i),t.defaults&&t.defaults[s-1]){var o=t.defaults[s-1];n.out("="),n.trigger("FunctionDefaultParam",o),n.walk(o,i)}}),this.out(")"),n.trigger("FunctionBody",t.body),this.walk(t.body,i)},e.getCode=function(t){return this._codeStr},e.getLineNumber=function(t){return this._lineNumber},e.getParent=function(t){if(t)return t.nodeid?this._nodeParents[t.nodeid]:void 0;if(this._path){var e=this._path.length;return this._path[e-1]}},e.getStructures=function(t){return this._structures},e.Identifier=function(t,e){this.out(t.name)},e.IfStatement=function(t,e){if(this.nlIfNot(),this.out("if("),this.trigger("IfTest",t.test),this.walk(t.test,e),this.out(")"),t.consequent){var i=!1;"BlockStatement"!=t.consequent.type&&(i=!0),this.trigger("IfConsequent",t.consequent),i&&(this.out("{"),this.indent(1)),this.walk(t.consequent,e),i&&(this.indent(-1),this.out("}"))}t.alternate&&(this.out(" else "),i=!1,"BlockStatement"!=t.alternate.type&&(i=!0),this.trigger("IfAlternate",t.alternate),i&&(this.out("{"),this.indent(1)),this.walk(t.alternate,e),i&&(this.indent(-1),"{"!=this.prevChar()&&this.out("",!0),this.out("}"))),this.out("",!0)},e.indent=function(t){this._indent+=t,this._indent<0&&(this._indent=0)},e.__traitInit&&!e.hasOwnProperty("__traitInit")&&(e.__traitInit=e.__traitInit.slice()),e.__traitInit||(e.__traitInit=[]),e.__traitInit.push(function(t){this._structures=[],this._path=[],this._tabChar="  ",this._codeStr="",this._currentLine="",this._indent=0,this._options=t||{},t&&!t.toES5?this._options.toES5=!1:this._options.toES5=!0,this._nsList=["react","DOM","SVG","FRZR"],this.initReactNamespace(),this.initDOMNamespace(),this.initDOMCNamespace(),this.initSVGNamespace(),this.initFRZRNamespace()}),e.initDOMC=function(t){"DOMC"==this._options.defaultNamespace&&(this.out("function $$x(e,expr){",!0),this.out("if(typeof(expr)=='string' || typeof(expr)=='number') {",!0),this.indent(1),this.out("e.appendChild(document.createTextNode(expr));",!0),this.indent(-1),this.out("} else {"),this.indent(1),this.out("if(expr instanceof Array) {",!0),this.indent(1),this.out("expr.forEach(function(ee){e.appendChild(ee)});",!0),this.indent(-1),this.out("} else { ",!0),this.out("if(typeof(expr)=='object')",!0),this.indent(1),this.out("e.appendChild(expr);",!0),this.indent(-1),this.out("}",!0),this.indent(-1),this.out("}"),this.out("}",!0),this.out("function $$t(e,s){",!0),this.out("e.appendChild(document.createTextNode(s));",!0),this.out("}",!0),this.out("function $$e(e){",!0),this.out("return document.createElement(e);",!0),this.out("}",!0),this.out("function $$o(me){",!0),this.out("var fn = function(){this.parent=me;};"),this.out("fn.prototype = me;",!0),this.out("return fn;",!0),this.out("}",!0))},e.initDOMCNamespace=function(t){var i=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","big","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","sampe","script","section","select","small","source","span","strike","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr"];e.DOMCJSXAttribute=function(t,e){this.out('"'),"JSXNamespacedName"==t.name.type?(this.out(t.name.namespace.name),this.out(":"),this.out(t.name.name.name)):this.out(t.name.name),this.out('"'),e._fnCall?this.out(":"):this.out(","),this.walk(t.value,e)},e.DOMCJSXOpeningElement=function(t,e){var n,s;if(this.out("(function() { ",!0),this.indent(1),this.out("var e,me=this;",!0),"JSXMemberExpression"==t.name.type){var o=t.name;o.object.name==e.ns?n=o.property.name:(n=o.property.name,s=o.object.name)}else n=t.name.name;if(!s&&i.indexOf(n)>=0){if(this.out("e=$$e('"+n+"');",!0),t.attributes&&t.attributes.length)for(var r=0;r<t.attributes.length;r++){var a=t.attributes[r].name.name;if(a&&"on"==a.substring(0,2)){var h=a.slice(2).toLowerCase();this.out("e.addEventListener('"+h+"', function(){me['"+a+"']("),this.walk(t.attributes[r].value,e),this.out(")}.bind(this));",!0)}else this.out("e.setAttribute("),this.walk(t.attributes[r],e),this.out(");",!0)}}else{this.out("var el=$$o(this);",!0),s?this.out("e = "+s+"."+n+".apply(new el(),["):this.out("e = "+n+".apply(new el(),[");var u=e._fnCall;if(e._fnCall=!0,t.attributes&&t.attributes.length){for(this.out("{",!0),this.indent(1),r=0;r<t.attributes.length;r++)r>0&&this.out(",",!0),this.walk(t.attributes[r],e);this.indent(-1),this.out("}")}e._fnCall=u,this.out("]);",!0)}t.selfClosing&&(this.out("return e;"),this.indent(-1),this.out("}).apply(this,[])",!0))},e.DOMCLiteral=function(t,e){"string"==typeof t.value?(this.out('"'),this.out(t.value.split("\n").join("\\n")),this.out('"')):this.out(t.value)},e.DOMCJSXExpressionContainer=function(t,e){this.walk(t.expression,e)},e.DOMCJSXElement=function(t,e){var i=e._inJSX;if(e._inJSX=!0,this.walk(t.openingElement,e),t.children)for(var n=0;n<t.children.length;n++){var s=t.children[n];if("JSXElement"==s.type&&(this.out("e.appendChild("),this.indent(1),this.walk(s,e),this.indent(-1),this.out(")",!0)),"Literal"==s.type){var o=s.value;if("string"==typeof o){var r=o.split("\n").join("\\n");this.out('$$t(e,"'+r+'")',!0)}else this.out("e.appendChild(document.createTextNode("),this.walk(s,e),this.out("))",!0)}"JSXExpressionContainer"==s.type&&(this.out("var expr="),this.walk(s,e),this.out(";",!0),this.out("$$x(e,expr)",!0))}this.walk(t.closingElement,e),e._inJSX=i},e.DOMCJSXClosingElement=function(t,e){this.out("return e;",!0),this.indent(-1),this.out("}).apply(this,[])",!0)}},e.initDOMNamespace=function(t){var i=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","big","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","sampe","script","section","select","small","source","span","strike","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr"];e.DOMJSXAttribute=function(t,e){this.out('"'),"JSXNamespacedName"==t.name.type?(this.out(t.name.namespace.name),this.out(":"),this.out(t.name.name.name)):this.out(t.name.name),this.out('"'),e._fnCall?this.out(":"):this.out(","),null===t.value?this.out("null"):this.walk(t.value,e)},e.DOMJSXOpeningElement=function(t,e){var n,s;if(this.out("(function() { ",!0),this.indent(1),this.out("var e,me=this;",!0),"JSXMemberExpression"==t.name.type){var o=t.name;o.object.name==e.ns?n=o.property.name:(n=o.property.name,s=o.object.name)}else n=t.name.name;if(!s&&i.indexOf(n)>=0){if(this.out("e=document.createElement('"+n+"');",!0),t.attributes&&t.attributes.length)for(var r=0;r<t.attributes.length;r++){var a=t.attributes[r].name.name;if(a&&"on"==a.substring(0,2)){var h=a.slice(2).toLowerCase();"JSXExpressionContainer"==(l=t.attributes[r].value).type?(this.trigger("JSXEventListener",{event:h,fn:a,elemNode:t,node:t.attributes[r],ctx:e}),this.out("e.addEventListener('"+h+"', function(event){"),this.walk(l.expression,e),this.out("}.bind(this));",!0)):(this.trigger("JSXEventListener",{event:h,fn:a,elemNode:t,node:t.attributes[r],ctx:e}),this.out("e.addEventListener('"+h+"', function(event){me['"+a+"']("),this.walk(t.attributes[r].value,e),this.out(")});",!0))}else if(a&&"this_"==a.substring(0,5)){var u=a.slice(5);(l=t.attributes[r].value)&&"JSXExpressionContainer"==l.type?(this.out("this."+u+"(e,"),this.walk(l.expression,e),this.out(");",!0)):(this.out("this."+u+"(e,"),t.attributes[r].value?this.walk(t.attributes[r].value,e):this.out("null"),this.out(");",!0))}else if(a&&"fn_"==a.substring(0,3)){var l;u=a.slice(3),(l=t.attributes[r].value)&&"JSXExpressionContainer"==l.type?(this.out(u+".apply(this, [e,"),this.walk(l.expression,e),this.out("]);",!0)):(this.out(u+".apply(this,[e,"),t.attributes[r].value?this.walk(t.attributes[r].value,e):this.out("null"),this.out("]);",!0))}else this.out("e.setAttribute("),this.walk(t.attributes[r],e),this.out(");",!0)}}else{this.out("var self = function(){ this._parent = me;};"),this.out("self.prototype = this;",!0),s?this.out("e = "+s+"."+n+".apply(new self(),["):this.out("e = "+n+".apply(new self(),["),this.trigger("JSXCustomElement",{obj:s,elem:n,node:t,ctx:e});var c=e._fnCall;if(e._fnCall=!0,t.attributes&&t.attributes.length){for(this.out("{",!0),this.indent(1),r=0;r<t.attributes.length;r++)r>0&&this.out(",",!0),this.walk(t.attributes[r],e);this.indent(-1),this.out("}")}e._fnCall=c,this.out("]);",!0)}t.selfClosing&&(this.out("return e;"),this.indent(-1),this.out("}).apply(this,[])",!0))},e.DOMLiteral=function(t,e){"string"==typeof t.value?(this.out('"'),this.out(t.value.split("\n").join("\\n")),this.out('"')):void 0!==t.raw?this.out(t.raw):this.out(t.value)},e.DOMJSXExpressionContainer=function(t,e){this.walk(t.expression,e)},e.DOMJSXElement=function(t,e){var i=e._inJSX;if(e._inJSX=!0,this.walk(t.openingElement,e),t.children)for(var n=0;n<t.children.length;n++){var s=t.children[n];if("JSXElement"==s.type&&(this.out("e.appendChild("),this.indent(1),this.walk(s,e),this.indent(-1),this.out(")",!0)),"Literal"==s.type){var o=s.value;if("string"==typeof o){var r=o.split("\n").join("\\n");this.out('e.appendChild(document.createTextNode("'+r+'"));',!0)}else this.out("e.appendChild(document.createTextNode("),this.walk(s,e),this.out("))",!0)}"JSXExpressionContainer"==s.type&&(this.out("var expr="),this.walk(s,e),this.out(";",!0),this.out("if(typeof(expr)=='string' || typeof(expr)=='number') {",!0),this.indent(1),this.out("e.appendChild(document.createTextNode(expr));",!0),this.indent(-1),this.out("} else {"),this.indent(1),this.out("if(expr instanceof Array) {",!0),this.indent(1),this.out("expr.forEach(function(ee){e.appendChild(ee)});",!0),this.indent(-1),this.out("} else { ",!0),this.out("if(expr && typeof(expr)=='object')",!0),this.indent(1),this.out("e.appendChild(expr);",!0),this.indent(-1),this.out("}",!0),this.indent(-1),this.out("}"))}this.walk(t.closingElement,e),e._inJSX=i},e.DOMJSXClosingElement=function(t,e){this.out("return e;",!0),this.indent(-1),this.out("}).apply(this,[])",!0)}},e.initFRZRNamespace=function(t){var i=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","big","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","sampe","script","section","select","small","source","span","strike","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr"];e.FRZRJSXAttribute=function(t,e){this.out('"'),"JSXNamespacedName"==t.name.type?(this.out(t.name.namespace.name),this.out(":"),this.out(t.name.name.name)):this.out(t.name.name),this.out('"'),e._fnCall?this.out(":"):this.out(","),null===t.value?this.out("null"):this.walk(t.value,e)},e.FRZRJSXOpeningElement=function(t,e){var n,s;if(this.out("(function() { ",!0),this.indent(1),this.out("var e,me=this;",!0),"JSXMemberExpression"==t.name.type){var o=t.name;o.object.name==e.ns?n=o.property.name:(n=o.property.name,s=o.object.name)}else n=t.name.name;if(!s&&i.indexOf(n)>=0){this.out("e = new frzr.View({el:'"+n+"'",!1),e._fnCall=!0;var r=!1;if(t.attributes&&t.attributes.length){var a;r=!0,this.indent(2);for(var h=0;h<t.attributes.length;h++)(u=t.attributes[h].name.name)&&"on"==u.substring(0,2)||("update"!=u?(this.out(",",!0),this.walk(t.attributes[h],e)):a=t.attributes[h]);a&&(this.out(",",!0),this.walk(a,e)),this.indent(-2)}if(e._fnCall=!1,this.out("});",!0),r)for(h=0;h<t.attributes.length;h++){var u;if((u=t.attributes[h].name.name)&&"on"==u.substring(0,2)){var l=u.slice(2).toLowerCase(),c=t.attributes[h].value;"JSXExpressionContainer"==c.type?(this.out("e.addListener('"+l+"', function(event){"),this.walk(c.expression,e),this.out("}.bind(this));",!0)):(this.out("e.addListener('"+l+"', function(event){me['"+u+"']("),this.walk(t.attributes[h].value,e),this.out(")});",!0))}}}else{this.out("var self = function(){ this._parent = me;};"),this.out("self.prototype = this;",!0),s?this.out("e = "+s+"."+n+".apply(new self(),["):this.out("e = "+n+".apply(new self(),["),this.trigger("JSXCustomElement",{obj:s,elem:n,node:t,ctx:e});var f=e._fnCall;if(e._fnCall=!0,t.attributes&&t.attributes.length){for(this.out("{",!0),this.indent(1),h=0;h<t.attributes.length;h++)h>0&&this.out(",",!0),this.walk(t.attributes[h],e);this.indent(-1),this.out("}")}e._fnCall=f,this.out("]);",!0)}t.selfClosing&&(this.out("return e;"),this.indent(-1),this.out("}).apply(this,[])",!0))},e.FRZRLiteral=function(t,e){"string"==typeof t.value?(this.out('"'),this.out(t.value.split("\n").join("\\n")),this.out('"')):void 0!==t.raw?this.out(t.raw):this.out(t.value)},e.FRZRJSXExpressionContainer=function(t,e){this.walk(t.expression,e)},e.FRZRJSXElement=function(t,e){var i=e._inJSX;if(e._inJSX=!0,this.walk(t.openingElement,e),t.children)for(var n=0;n<t.children.length;n++){var s=t.children[n];if("JSXElement"==s.type&&(this.out("e.addChild("),this.indent(1),this.walk(s,e),this.indent(-1),this.out(")",!0)),"Literal"==s.type){var o=s.value;if("string"==typeof o){var r=o.split("\n").join("\\n");this.out('e.addChild( new frzr.View({el:document.createTextNode("'+r+'")}))',!0)}else this.out("e.addChild( new frzr.View({el:document.createTextNode("),this.walk(s,e),this.out(")}))",!0)}"JSXExpressionContainer"==s.type&&(this.out("var expr="),this.walk(s,e),this.out(";",!0),this.out("if(typeof(expr)=='string' || typeof(expr)=='number') {",!0),this.indent(1),this.out("e.addChild( new frzr.View({el:document.createTextNode(expr)}))",!0),this.indent(-1),this.out("} else {"),this.indent(1),this.out("if(expr instanceof Array) {",!0),this.indent(1),this.out("expr.forEach(function(ee){e.addChild(ee)});",!0),this.indent(-1),this.out("} else { ",!0),this.out("if(typeof(expr)=='object')",!0),this.indent(1),this.out("e.addChild(expr);",!0),this.indent(-1),this.out("}",!0),this.indent(-1),this.out("}"))}this.walk(t.closingElement,e),e._inJSX=i},e.FRZRJSXClosingElement=function(t,e){this.out("return e;",!0),this.indent(-1),this.out("}).apply(this,[])",!0)}},e.initReactNamespace=function(t){e.reactJSXAttribute=function(t,e){this.walk(t.name,e),this.out(":"),this.walk(t.value,e)},e.reactJSXOpeningElement=function(t,e){if(console.log("reactJSXOpeningElement at namepace "+e.ns),this.out("React.createElement(",!0),this.indent(1),"JSXMemberExpression"==t.name.type){var i=t.name;"react"==i.object.name&&this.out('"'+i.property.name+'",',!0)}else t.name&&this.out('"'+t.name.name+'",',!0);if(t.attributes&&t.attributes.length){this.out("{",!0),this.indent(1);for(var n=0;n<t.attributes.length;n++)n>0&&this.out(",",!0),this.walk(t.attributes[n],e);this.indent(-1),this.out("}")}else this.out("null");t.selfClosing&&(this.indent(-1),this.out(""),this.out(")",!0))},e.reactLiteral=function(t,e){if(e._inJSX){if("string"==typeof t.value&&0==t.value.trim().length)return;this.out('"'),this.out(t.value),this.out('"')}else this.out(t.raw)},e.reactJSXExpressionContainer=function(t,e){this.walk(t.expression,e)},e.reactJSXElement=function(t,e){var i=e._inJSX;if(e._inJSX=!0,this.walk(t.openingElement,e),t.children)for(var n=0;n<t.children.length;n++){var s=t.children[n];"Literal"==s.type&&"string"==typeof s.value&&0==s.value.trim().length||(this.out(",",!0),this.walk(t.children[n],e))}this.walk(t.closingElement,e),e._inJSX=i},e.reactJSXClosingElement=function(t,e){this.indent(-1),this.out(""),this.out(")",!0)}},e.initSVGNamespace=function(t){var i=["circle","rect","path","svg","image","line","text","tspan","g","pattern","polygon","polyline","clippath","defs","feoffset","femerge","femergenode","linearGradient","mask","polyline","feColorMatrix","radialGradient","stop","feGaussianBlur","filter"];this._autoNs||(this._autoNs={});var n=this;i.forEach(function(t){n._autoNs[t]="SVG"}),e.SVGJSXAttribute=function(t,e){this.out('"'),this.out(t.name.name),this.out('"'),e._fnCall?this.out(":"):this.out(","),this.walk(t.value,e)},e.SVGJSXOpeningElement=function(t,e){this.out("(function() { ",!0),this.indent(1),this.out("var e,me=this;",!0);var n,s,o=!1;if("JSXMemberExpression"==t.name.type){var r=t.name;r.object.name==e.ns?n=r.property.name:(n=r.property.name,s=r.object.name)}else n=t.name.name;if(!s&&i.indexOf(n)>=0){if("svg"==n?(this.out("e=document.createElementNS('http://www.w3.org/2000/svg', 'svg');",!0),this.out('e.setAttribute("xmlns", "http://www.w3.org/2000/svg");',!0),this.out('e.setAttribute("xmlns:xlink", "http://www.w3.org/1999/xlink");',!0),o=!0):this.out("e=document.createElementNS('http://www.w3.org/2000/svg', '"+n+"');",!0),t.attributes&&t.attributes.length)for(var a=0;a<t.attributes.length;a++){var h=t.attributes[a].name;if("JSXIdentifier"==h.type){var u=h.name;if(u&&"on"==u.substring(0,2)){var l=u.slice(2).toLowerCase();this.out("e.addEventListener('"+l+"', function(){me['"+u+"']("),this.walk(t.attributes[a].value,e),this.out(")});",!0);continue}}if("JSXIdentifier"==h.type){if(o&&"xmlns"==h.name)continue;this.out("e.setAttributeNS(null,"),this.walk(t.attributes[a],e),this.out(");",!0)}else if("JSXNamespacedName"==h.type){if(o&&"xlink"==h.name.name)continue;o?(this.out('e.setAttribute("'+h.namespace.name+":"+h.name.name+'",'),this.walk(t.attributes[a].value,e),this.out(");",!0)):(this.out("e.setAttributeNS('http://www.w3.org/1999/"+h.namespace.name+"',"),this.out('"'),this.out(h.name.name),this.out('"'),this.out(","),this.walk(t.attributes[a].value,e),this.out(");",!0))}}}else{this.out("var self = function(){this.parent=me;};"),this.out("self.prototype = this;",!0),s?this.out("e = "+s+"."+n+".apply(new self(),["):this.out("e = "+n+".apply(new self(),[");var c=e._fnCall;if(e._fnCall=!0,t.attributes&&t.attributes.length){for(this.out("{",!0),this.indent(1),a=0;a<t.attributes.length;a++)a>0&&this.out(",",!0),this.walk(t.attributes[a],e);this.indent(-1),this.out("}")}e._fnCall=c,this.out("]);",!0)}t.selfClosing&&(this.out("return e;"),this.indent(-1),this.out("}).apply(this,[])",!0))},e.SVGLiteral=function(t,e){"string"==typeof t.value?(this.out('"'),this.out(t.value.split("\n").join("\\n")),this.out('"')):this.out(t.value)},e.SVGJSXExpressionContainer=function(t,e){this.walk(t.expression,e)},e.SVGJSXElement=function(t,e){var i=e._inJSX;if(e._inJSX=!0,this.walk(t.openingElement,e),t.children)for(var n=0;n<t.children.length;n++){var s=t.children[n];if("JSXElement"==s.type&&(this.out("e.appendChild("),this.indent(1),this.walk(s,e),this.indent(-1),this.out(")",!0)),"Literal"==s.type){var o=s.value;if("string"==typeof o){var r=o.split("\n").join("\\n");this.out('e.appendChild(document.createTextNode("'+r+'"));',!0)}else this.out("e.appendChild(document.createTextNode("),this.walk(s,e),this.out("))",!0)}"JSXExpressionContainer"==s.type&&(this.out("var expr="),this.walk(s,e),this.out(";",!0),this.out("if(typeof(expr)=='string' || typeof(expr)=='number') {",!0),this.indent(1),this.out("e.appendChild(document.createTextNode(expr));",!0),this.indent(-1),this.out("} else {"),this.indent(1),this.out("if(expr instanceof Array) {",!0),this.indent(1),this.out("expr.forEach(function(ee){e.appendChild(ee)});",!0),this.indent(-1),this.out("} else { ",!0),this.out("if(typeof(expr)=='object')",!0),this.indent(1),this.out("e.appendChild(expr);",!0),this.indent(-1),this.out("}",!0),this.indent(-1),this.out("}"))}this.walk(t.closingElement,e),e._inJSX=i},e.SVGJSXClosingElement=function(t,e){this.out("return e;",!0),this.indent(-1),this.out("}).apply(this,[])",!0)}},e.JSXAttribute=function(t,e){this.walk(t.name,e),this.out("="),this.walk(t.value,e)},e.JSXClosingElement=function(t,e){this.out("</"),this.walk(t.name,e),this.out(">")},e.JSXElement=function(t,e){this.walk(t.openingElement,e),this.out("",!0),this.indent(1),this.walk(t.children,e),this.indent(-1),t.selfClosing?this.out("/>",!0):t.closingElement&&this.walk(t.closingElement,e)},e.JSXEmptyExpression=function(t){},e.JSXExpressionContainer=function(t,e){this.out("{"),this.walk(t.expression,e),this.out("}")},e.JSXIdentifier=function(t,e){this.out(t.name)},e.JSXMemberExpression=function(t,e){this.walk(t.object,e),t.computed?(this.out("["),this.walk(t.property,e),this.out("]")):(this.out("."),this.walk(t.property,e))},e.JSXNamespacedName=function(t,e){this.out(t.namespace),this.out(":"),this.out(t.name)},e.JSXOpeningElement=function(t,e){this.out("<"),this.walk(t.name,e),this.out(" "),this.walk(t.attributes,e),t.selfClosing?this.out("/>"):this.out(">")},e.JSXSpreadAttribute=function(t,e){console.error("JSXSpreadAttribute is not implemented")},e.LabeledStatement=function(t,e){this.nlIfNot(),this.walk(t.label,e),this.out(":",!0),this.indent(1),t.body&&this.walk(t.body,e),this.indent(-1)},e.Literal=function(t,e){this.out(t.raw)},e.LogicalExpression=function(t,e){var i=!0,n=!0;"Identifier"!=t.left.type&&"Literal"!=t.left.type||(i=!1),"Identifier"!=t.right.type&&"Literal"!=t.right.type||(n=!1),i&&this.out("("),this.walk(t.left,e),i&&this.out(")"),t.operator&&this.out(" "+t.operator+" "),n&&this.out("("),this.walk(t.right,e),n&&this.out(")")},e.MemberExpression=function(t,e){this.trigger("MemberExpressionObject",t.object);var i=!0;"Identifier"!=t.object.type&&"Literal"!=t.object.type&&"ThisExpression"!=t.object.type||(i=!1,"number"==typeof t.object.value&&(i=!0)),i&&this.out("("),this.walk(t.object,e),i&&this.out(")"),t.computed?(this.out("["),this.trigger("MemberExpressionProperty",t.property),this.walk(t.property,e),this.out("]")):(this.out("."),this.trigger("MemberExpressionProperty",t.property),this.walk(t.property,e))},e.MethodDefinition=function(t,e){t.key&&(this.__insideMethod=!0,"constructor"==t.kind&&this.trigger("ClassConstructor",t),t.static&&this.out("static "),this.walk(t.key,e),this.walk(t.value,e),this.out("",!0),this.__insideMethod=!1)},e.NewExpression=function(t,e){if(t.callee){if(this.out(" new "),this.trigger("NewExpressionClass",t.callee),this.walk(t.callee,e),this.out("("),t.arguments){var i=this,n=0;t.arguments.forEach(function(t){i.trigger("NewExpressionArgument",t),n++>0&&i.out(", "),i.walk(t,e)})}this.out(")")}},e.nlIfNot=function(t){var e=this._currentLine.length;e>0&&("{"==this._currentLine[e-1]||";"==this._currentLine[e-1]?this.out("",!0):this.out(";",!0))},e.ObjectExpression=function(t,e){var i=this;try{i.out("{");var n=0;t&&t.properties&&(t.properties.length>1&&i.out("",!0),i.indent(1),t.properties.forEach(function(t){n++>0&&i.out(",",!0),i.trigger("ObjectExpressionProperty",t),i.walk(t,e)}),i.indent(-1)),i.out("}")}catch(t){console.error(t.message)}},e.ObjectPattern=function(t,e){var i=this;try{i.out("{");var n=0;t&&t.properties&&t.properties.forEach(function(t){n++>0&&i.out(","),i.trigger("ObjectExpressionProperty",t),i.walk(t,e)}),i.out("}")}catch(t){console.error(t.message)}},e.out=function(t,e){if(!this._options.noOutput)if(this._collecting){if(t){if(0==this._collectLine.length)for(var i=0;i<this._indent;i++)this._collectLine+=this._tabChar;this._collectLine+=t}e&&(this._collectStr+=this._collectLine+"\n",this._collectLine="",this._collectStr+="\n")}else{if(t){if(0==this._currentLine.length)for(this.trigger("startline"),this.trigger("tabs",this._indent),i=0;i<this._indent;i++)this._currentLine+=this._tabChar;this.trigger("out",t),this._currentLine+=t}e&&(this.trigger("newline"),this._codeStr+=this._currentLine+"\n",this._currentLine="",this._lineNumber++)}},e.prevChar=function(t){var e=this._currentLine.length;return e>0?this._currentLine[e-1]:"\n"},e.Program=function(t,e){this.walk(t.body,e,!0)},e.Property=function(t,e){this.trigger("ObjectPropertyKey",t.key),this.walk(t.key,e),t.shorthand||(this.out(":"),this.trigger("ObjectPropertyValue",t.value),this.walk(t.value,e))},e.pushStructure=function(t){this._structures||(this._structures=[]),this._structures.push(t)},e.RestElement=function(t,e){t.argument&&this.trigger("RestArgument",t.argument),this.out(" ..."),this.walk(t.argument,e)},e.ReturnStatement=function(t,e){this.nlIfNot(),this.out("return "),this.trigger("ReturnValue",t.argument),this.walk(t.argument,e),this.out(";")},e.saveNode=function(t){t.nodeid||(t.nodeid=this.createId()),this.createObject(t.nodeid,t)},e.SequenceExpression=function(t,e){if(t.expressions){var i=this,n=0;this.out("("),t.expressions.forEach(function(t){n++>0&&i.out(","),i.walk(t,e)}),this.out(")")}},e.skip=function(t){this._skipWalk=!0},e.startBlock=function(t){this.out("{",!0),this.indent(1)},e.startCollecting=function(t){this._collecting=!0},e.startWalk=function(t,e){this._breakWalk=!1,this._path=[],this._codeStr="",this._currentLine="",this._lineNumber=0,this.initDOMC(),this.walk(t,e),this.out("",!0)},e.Super=function(t,e){this.out("super")},e.SwitchCase=function(t,e){if(this.nlIfNot(),t.test?(this.out("case "),this.walk(t.test,e),this.out(" : ",!0)):this.out("default: ",!0),t.consequent){var i=this;t.consequent.forEach(function(t){i.walk(t,e)})}},e.SwitchStatement=function(t,e){this.nlIfNot(),this.out("switch"),this.out("("),this.walk(t.discriminant,e),this.out(")"),this.out("{",!0),this.indent(1);var i=this;t.cases.forEach(function(t){i.walk(t,e)}),this.indent(-1),this.out("}",!0)},e.TemplateElement=function(t,e,i){this.out(t.value.raw)},e.TemplateLiteral=function(t,e){this.out("`");for(var i=0;i<t.quasis.length;i++){i>0&&(this.out("${"),t.expressions[i-1]&&this.walk(t.expressions[i-1],e),this.out("}"));var n=t.quasis[i];this.walk(n,e)}this.out("`")},e.ThisExpression=function(t){this.out("this")},e.ThrowStatement=function(t,e){this.nlIfNot(),this.out("throw "),this.trigger("ThrowArgument",t.argument),this.walk(t.argument,e)},e.TryStatement=function(t,e){this.out("try "),this.walk(t.block,e),t.handler&&this.walk(t.handler,e),t.finalizer&&(this.out(" finally "),this.walk(t.finalizer,e))},e.UnaryExpression=function(t,e){var i=!0;"Identifier"!=t.argument.type&&"Literal"!=t.argument.type||(i=!1),this.out(t.operator),"!"!=t.operator&&this.out(" "),i&&this.out("("),this.trigger("UnaryExpressionArgument",t.argument),this.walk(t.argument,e),i&&this.out(")")},e.UpdateExpression=function(t,e){this.trigger("UpdateExpressionArgument",t.argument),t.prefix?(this.out(t.operator),this.walk(t.argument,e)):(this.walk(t.argument,e),this.out(t.operator))},e.VariableDeclaration=function(t,e){var i=this,n=0;"var"==t.kind&&i.out("var "),"let"==t.kind&&i.out("let "),"const"==t.kind&&i.out("const ");var s=0;t.declarations.forEach(function(t){t.deleted||(n++>0&&(2==n&&(s+=2,i.indent(s)),i.out(",",!0)),i.walk(t,e))}),this.indent(-1*s),0==n&&(this._undoOutput=!0),e._forVar||this.out(";",!0)},e.VariableDeclarator=function(t,e){t.id&&(this.walk(t.id,e),t.id.name&&(e.vars[t.id.name]=t)),t.init&&(this.out(" = "),this.walk(t.init,e))},e.walk=function(t,e,i){if(t){if(!e)return console.log("ERROR: no context defined for ",t),void console.trace();if(t instanceof Array){var n=this;this.trigger("nodeArray",{node:t,ctx:e}),t.forEach(function(t){n.walk(t,e),i&&n.nlIfNot()})}else{if(t.deleted)return;if(t.type){this.saveNode(t),t.contextId=e.id;var s=this.getParent();this._nodeParents||(this._nodeParents={}),s&&(this._nodeParents[t.nodeid]=s);var o={node:t,ctx:e};if(this.trigger("node",o),this.trigger(t.type,o),this._skipWalk)return void(this._skipWalk=!1);if(this._wCb&&this._wCb(t),this[t.type]){this._path.push(t);var r,a=this._currentLine,h=this._codeStr.length,u=!1;if("JSXElement"==t.type&&t.openingElement&&t.openingElement.name)if("JSXMemberExpression"==t.openingElement.name.type){var l=t.openingElement.name.object.name;this._nsList.indexOf(l)>=0?(e.nsStack||(e.nsStack=[]),e.nsStack.push(l),r=e.ns,e.ns=l,u=!0):e.ns||(l=this._options.defaultNamespace||"DOM",this._options.forceNamespace&&(l=this._options.forceNamespace),e.nsStack||(e.nsStack=[]),e.nsStack.push(l),r=e.ns,e.ns=l,u=!0)}else if(e.ns)"DOM"==e.ns&&"svg"==t.openingElement.name.name&&(l="SVG",e.nsStack||(e.nsStack=[]),e.nsStack.push(l),r=e.ns,e.ns=l,u=!0);else{var l=this._options.defaultNamespace||"DOM",c=t.openingElement.name.name;"svg"==c&&(l="SVG"),this._autoNs&&this._autoNs[c]&&(l=this._autoNs[c]),this._options.forceNamespace&&(l=this._options.forceNamespace),e.nsStack||(e.nsStack=[]),e.nsStack.push(l),r=e.ns,e.ns=l,u=!0}if(e.ns){var f=e.ns+t.type;void 0!==this[f]?this[f](t,e):this[t.type](t,e)}else this[t.type](t,e);u&&(e.nsStack.pop(),e.ns=r),this._undoOutput&&(this._codeStr=this._codeStr.substring(0,h),this._currentLine=a,this._undoOutput=!1),this._path.pop()}else console.log("Did not find "+t.type),console.log(t);this.trigger("nodeWalked",o),this.trigger("After"+t.type,o)}}}},e.walkAsString=function(t,e){var i="";try{this.startCollecting(),this._collectStr="",this._collectLine="",this.walk(t,e),i=this._collectStr,this.endCollecting()}catch(t){}return i},e.WhileStatement=function(t,e){if(this.nlIfNot(),this.out("while "),t.test&&(this.trigger("WhileTest",t.test),this.out("("),this.walk(t.test,e),this.out(")")),t.body){var i=!1;"BlockStatement"!=t.body.type&&t.body.type.indexOf("Statement")>=0&&(i=!0),i&&(this.out("{"),this.indent(1)),this.walk(t.body,e),i&&(this.indent(-1),this.out("}"))}this.out("",!0)},e.WithStatement=function(t,e){console.error("With statement is not supported")},e.YieldExpression=function(t,e){this.out("yield "),this.walk(t.argument,e)}},ASTWalker=function t(e,i,n,s,o,r,a,h){var u,l=this;if(!(l instanceof t))return new t(e,i,n,s,o,r,a,h);var c=[e,i,n,s,o,r,a,h];if(l.__factoryClass)if(l.__factoryClass.forEach(function(t){u=t.apply(l,c)}),"function"==typeof u){if(u._classInfo.name!=t._classInfo.name)return new u(e,i,n,s,o,r,a,h)}else if(u)return u;l.__traitInit?l.__traitInit.forEach(function(t){t.apply(l,c)}):"function"==typeof l.init&&l.init.apply(l,c)};ASTWalker._classInfo={name:"ASTWalker"},ASTWalker.prototype=new ASTWalker_prototype,function(){"undefined"!=typeof define&&null!==define&&null!=define.amd?(__amdDefs__.ASTWalker=ASTWalker,this.ASTWalker=ASTWalker):"undefined"!=typeof module&&null!==module&&null!=module.exports?module.exports.ASTWalker=ASTWalker:this.ASTWalker=ASTWalker}.call(new Function("return this")()),"undefined"!=typeof define&&null!==define&&null!=define.amd&&define(__amdDefs__),setTimeout(function(){if("undefined"!=typeof espree)for(var list=document.querySelectorAll('script[type="text/ASTWalker"]'),i=0;i<list.length;i++){var scriptElem=list[i],codeStr=scriptElem.text||scriptElem.textContent;if(codeStr){var rawAST=espree.parse(codeStr,{range:!0,loc:!0,comments:!0,attachComment:!0,tokens:!0,tolerant:!0,ecmaVersion:6,sourceType:"script",ecmaFeatures:{jsx:!0,globalReturn:!0,experimentalObjectRestSpread:!0}}),ns="DOM";scriptElem.getAttribute("ns")&&(ns=scriptElem.getAttribute("ns"));var walker=ASTWalker({defaultNamespace:ns,toES5:!0});walker.startWalk(rawAST,walker.createContext());var strCode=walker.getCode();eval(strCode);var outId=list[i].getAttribute("output");if(outId){var out=document.querySelector(outId);out.textContent=strCode,out.value=strCode,console.log("COMPILED SIZE : ",strCode.length)}}}},1)}).call(new Function("return this")());
